import{_ as s,o as n,c as a,f as l}from"./app.74138ca6.js";const C=JSON.parse('{"title":"\u4E2D\u65AD\u7CFB\u7EDF\u53CA\u5916\u90E8\u4E2D\u65AD","description":"","frontmatter":{},"headers":[{"level":3,"title":"1.\u4E2D\u65AD\u7CFB\u7EDF\u7684\u7B80\u5355\u7406\u89E3\uFF1A","slug":"_1-\u4E2D\u65AD\u7CFB\u7EDF\u7684\u7B80\u5355\u7406\u89E3\uFF1A"},{"level":3,"title":"2.51\u5355\u7247\u673A\u7684\u4E2D\u65AD\u7CFB\u7EDF\uFF1A","slug":"_2-51\u5355\u7247\u673A\u7684\u4E2D\u65AD\u7CFB\u7EDF\uFF1A"},{"level":3,"title":"3.\u4E2D\u65AD\u5BC4\u5B58\u5668\uFF1A","slug":"_3-\u4E2D\u65AD\u5BC4\u5B58\u5668\uFF1A"},{"level":3,"title":"4.\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\uFF1A","slug":"_4-\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\uFF1A"},{"level":3,"title":"5.\u95EE\u9898+\u4EE3\u7801\uFF1A","slug":"_5-\u95EE\u9898-\u4EE3\u7801\uFF1A"},{"level":3,"title":"7.\u4E2D\u65AD\u7684\u5904\u7406\u8FC7\u7A0B\uFF1A","slug":"_7-\u4E2D\u65AD\u7684\u5904\u7406\u8FC7\u7A0B\uFF1A"}],"relativePath":"hardware_group/51\u5355\u7247\u673A/h.\u4E2D\u65AD\u7CFB\u7EDF.md"}'),p={name:"hardware_group/51\u5355\u7247\u673A/h.\u4E2D\u65AD\u7CFB\u7EDF.md"},o=l(`<h1 id="\u4E2D\u65AD\u7CFB\u7EDF\u53CA\u5916\u90E8\u4E2D\u65AD" tabindex="-1">\u4E2D\u65AD\u7CFB\u7EDF\u53CA\u5916\u90E8\u4E2D\u65AD <a class="header-anchor" href="#\u4E2D\u65AD\u7CFB\u7EDF\u53CA\u5916\u90E8\u4E2D\u65AD" aria-hidden="true">#</a></h1><h3 id="_1-\u4E2D\u65AD\u7CFB\u7EDF\u7684\u7B80\u5355\u7406\u89E3\uFF1A" tabindex="-1">1.\u4E2D\u65AD\u7CFB\u7EDF\u7684\u7B80\u5355\u7406\u89E3\uFF1A <a class="header-anchor" href="#_1-\u4E2D\u65AD\u7CFB\u7EDF\u7684\u7B80\u5355\u7406\u89E3\uFF1A" aria-hidden="true">#</a></h3><ul><li>\u4F60\u6B63\u5728\u8FFD\u7535\u89C6\u5267\u300A\u795E\u96D5\u4FA0\u4FA3\u300B,\u6B63\u770B\u5F97\u5165\u8FF7\u7684\u65F6\u5019\uFF0C\u7535\u8BDD\u54CD\u4E86\uFF0C\u4F60\u6682\u505C\u7535\u89C6\u5267\uFF0C\u53BB\u63A5\u7535\u8BDD\uFF0C\u5728\u63A5\u7535\u8BDD\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u95E8\u94C3\u53C8\u54CD\u4E86\uFF0C\u4F60\u6682\u65F6\u653E\u4E0B\u7535\u8BDD\uFF0C\u53BB\u628A\u95E8\u6253\u5F00\u3002\u5982\u679C\u8FFD\u7535\u89C6\u5267\u662F\u5728<strong>\u6267\u884C\u4E3B\u7A0B\u5E8F</strong>\uFF0C\u90A3\u4E48\u7535\u8BDD\u5C31\u662F<strong>\u4E2D\u65AD\u6E90</strong>\uFF0C\u7535\u8BDD\u94C3\u54CD\u4E86\u5C31\u662F<strong>\u4E2D\u65AD\u8BF7\u6C42</strong>\uFF0C\u6682\u505C\u7535\u89C6\u5C31\u662F<strong>\u73B0\u573A\u4FDD\u62A4</strong>\uFF0C\u63A5\u7535\u8BDD\u5C31\u662F<strong>\u4E2D\u65AD\u54CD\u5E94</strong>\uFF0C\u95E8\u94C3\u54CD\u4E86\u662F<strong>\u66F4\u9AD8\u4E00\u7EA7\u7684\u4E2D\u65AD\u8BF7\u6C42</strong>\uFF0C\u53BB\u628A\u95E8\u6253\u5F00\uFF0C\u90A3\u5C31\u662F<strong>\u4E2D\u65AD\u5D4C\u5957</strong>\u3002\u5F00\u5B8C\u95E8\u56DE\u6765\u63A5\u7740\u804A\u7535\u8BDD\uFF0C\u90A3\u662F<strong>\u4E2D\u65AD\u8FD4\u56DE(\u5D4C\u5957\u4E2D\u65AD\u9000\u56DE\u5230\u4E0A\u4E00\u5C42\u4E2D\u65AD)</strong>\uFF0C\u63A5\u5B8C\u7535\u8BDD\u628A\u7535\u89C6\u5267\u6682\u505C\u6253\u5F00\u5C31\u662F<strong>\u73B0\u573A\u6062\u590D</strong>\u3002</li></ul><h3 id="_2-51\u5355\u7247\u673A\u7684\u4E2D\u65AD\u7CFB\u7EDF\uFF1A" tabindex="-1">2.51\u5355\u7247\u673A\u7684\u4E2D\u65AD\u7CFB\u7EDF\uFF1A <a class="header-anchor" href="#_2-51\u5355\u7247\u673A\u7684\u4E2D\u65AD\u7CFB\u7EDF\uFF1A" aria-hidden="true">#</a></h3><ul><li>\u5355\u7247\u673A\u4E0E\u5916\u8BBE\u4E4B\u95F4\u7684\u4EA4\u4E92\u6709\u4E24\u79CD\u65B9\u5F0F\uFF1A<strong>\u8F6E\u8BE2</strong>\u548C<strong>\u4E2D\u65AD</strong>\uFF0C\u8F6E\u8BE2\u4E00\u822C\u6307\u7684\u662F\u5728main\u51FD\u6570\u4E2D\u5FAA\u73AF\u6267\u884C\u6307\u4EE4\uFF0C\u4F7F\u5F97\u5355\u7247\u673A\u548C\u5916\u8BBE\u4E4B\u95F4\u8FDB\u884C\u4EA4\u4E92\uFF1B\u4E2D\u65AD\u53EF\u4EE5\u5FFD\u89C6main\u51FD\u6570\u4E2D\u7684\u6307\u4EE4\uFF0C\u76F4\u63A5\u8BA9\u5355\u7247\u673A\u6267\u884C\u4E2D\u65AD\u54CD\u5E94\u3002</li><li><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306211627607.png" alt="image-20230306211627607"></li><li>\u4E0A\u8FF0\u662FSTC15F2K60S2\u7684\u4E2D\u65AD\u7CFB\u7EDF\u7ED3\u6784\u56FE\uFF0C\u4E00\u5171\u670914\u4E2A\u4E2D\u65AD\u6E90\uFF0C\u6211\u4EEC\u62FFINT0\u8FD9\u4E2A\u4E2D\u65AD\u6765\u8BB2\u89E3\uFF1A <ul><li>\u4ECE\u5DE6\u5230\u53F3\u89C2\u5BDF\u4E0A\u56FE\uFF1A</li><li>\u9996\u5148\uFF0CTCON\u8FD9\u4E2A\u5BC4\u5B58\u5668\u4E2D\u7684IT0 = 1\u7684\u65F6\u5019\uFF0C\u662F\u4E0B\u964D\u6CBF\u89E6\u53D1\u4E2D\u65AD\uFF0CIT0 = 0\u662F\u4E0A\u5347\u6CBF\u6216\u4E0B\u964D\u6CBF\u89E6\u53D1\u4E2D\u65AD\u3002</li><li>\u63A5\u7740\uFF0CIE\u5BC4\u5B58\u5668\u4E2D\u7684EX0 = 1\uFF0C\u8868\u793ACPU\u5141\u8BB8INT0\u8FD9\u4E2A\u4E2D\u65AD\u6267\u884C\uFF0C\u53CD\u4E4B\u4E0D\u5141\u8BB8\u3002</li><li>\u63A5\u7740\uFF0CIE\u5BC4\u5B58\u5668\u4E2D\u7684EA = 1\uFF0C\u8868\u793ACPU\u5141\u8BB8\u6240\u6709\u4E2D\u65AD\uFF0C\u53CD\u4E4B\u4E0D\u5141\u8BB8\u3002</li><li>\u8FD9\u6837\u6211\u4EEC\u5C31\u63A5\u901A\u4E86\u8FD9\u4E2AINT0\u4E2D\u65AD\u3002</li><li><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306212941511.png" alt="image-20230306212941511"></li><li>P32\u8FD9\u4E2A\u63A5\u53E3\u662F\u76F4\u63A5\u63A7\u5236INT0\u8FD9\u4E2A\u4E2D\u65AD\u7684\uFF0C\u5F53\u5355\u7247\u673A\u68C0\u6D4B\u5230P32\u8FD9\u4E00\u4F4D\u7684\u4FE1\u53F7\u4E3A\u4E0B\u964D\u6CBF\u7684\u65F6\u5019\uFF0C\u89E6\u53D1INT0\u8FD9\u4E2A\u4E2D\u65AD\u3002</li><li><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306213127702.png" alt="image-20230306213127702"></li><li>\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7S5\u8FD9\u4E2A<strong>\u72EC\u7ACB\u6309\u952E</strong>\u6765\u64CD\u4F5CP32\u8FD9\u4E00\u4F4D\uFF0C\u5F53\u6309\u4E0BS5\u7684\u65F6\u5019\uFF0C\u4FE1\u53F7\u4EA7\u751F\u4E0B\u964D\u6CBF\uFF0C\u89E6\u53D1INT0\u3002</li></ul></li></ul><h3 id="_3-\u4E2D\u65AD\u5BC4\u5B58\u5668\uFF1A" tabindex="-1">3.\u4E2D\u65AD\u5BC4\u5B58\u5668\uFF1A <a class="header-anchor" href="#_3-\u4E2D\u65AD\u5BC4\u5B58\u5668\uFF1A" aria-hidden="true">#</a></h3><ul><li>\u57FA\u672C\u7684\u4E2D\u65AD\u5BC4\u5B58\u5668\uFF1A <ul><li>IE(Interrupt Enable)<img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306213450272.png" alt="image-20230306213450272"></li><li><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306213559258.png" alt="image-20230306213559258"></li><li>IP(Interrupt Priority)<img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306213721218.png" alt="image-20230306213721218"></li><li><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306213736101.png" alt="image-20230306213736101"></li><li>TCON(\u5B9A\u65F6\u5668/\u8BA1\u6570\u5668\u63A7\u5236\u5BC4\u5B58\u5668)<img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306213938095.png" alt="image-20230306213938095"></li><li><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306214000474.png" alt="image-20230306214000474"></li><li>SCON(\u4E32\u884C\u53E3\u63A7\u5236\u5BC4\u5B58\u5668)<img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306214055612.png" alt="image-20230306214055612"></li><li><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306214120682.png" alt="image-20230306214120682"></li></ul></li></ul><h3 id="_4-\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\uFF1A" tabindex="-1">4.\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\uFF1A <a class="header-anchor" href="#_4-\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\uFF1A" aria-hidden="true">#</a></h3><ul><li>\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\u4E00\u822C\u7531\u4E24\u90E8\u5206\u7EC4\u6210\uFF1A<strong>\u4E2D\u65AD\u521D\u59CB\u5316\u51FD\u6570</strong>\u548C<strong>\u4E2D\u65AD\u670D\u52A1\u51FD\u6570</strong>\u3002</li><li>\u4E2D\u65AD\u521D\u59CB\u5316\u51FD\u6570\u7528\u6765\u8BA9CPU\u5141\u8BB8\u67D0\u4E2A\u4E2D\u65AD\u7684\u6267\u884C\uFF0C\u5E76\u4E14\u8BF4\u660E\u5982\u4F55\u6267\u884C\u8FD9\u4E2A\u4E2D\u65AD\u3002 <ul><li>\u4E00\u822C\u6765\u8BB2\uFF0CINT0\u8FD9\u4E2A\u4E2D\u65AD\u7684\u521D\u59CB\u5316\u51FD\u6570\u540D\u79F0\uFF1A<code>void Init_INT0(void)</code></li></ul></li><li>\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\u662F\u4E2D\u65AD\u7684\u54CD\u5E94\u5185\u5BB9\u3002 <ul><li>\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\u7684\u540D\u79F0\uFF1A<code>void INT0_Routine(void) interrupt 0</code></li><li><strong>interrupt</strong>\u5173\u952E\u5B57\u8868\u660E\u8FD9\u662F\u4E00\u4E2A\u4E2D\u65AD\u51FD\u6570\u3002\u4E2D\u65AD\u51FD\u6570\u4E0D\u9700\u8981\u5199\u5728main\u4E2D\u3002</li><li>0**(\u4E2D\u65AD\u53F7)<strong>\u662FINT0\u8FD9\u4E2A\u4E2D\u65AD\u6E90\u7684</strong>\u5165\u53E3\u5730\u5740**\uFF0C\u53C8\u53EB<strong>\u4E2D\u65AD\u5411\u91CF</strong>\uFF0C0\u8FD9\u4E2A\u7B26\u53F7\u4EE3\u88680x0003H\uFF0CC\u8BED\u8A00\u4E3A\u4E86\u65B9\u4FBF\uFF0C\u76F4\u63A5\u75280\u6765\u4EE3\u66FF\u8FD9\u4E2A\u5730\u5740\u3002</li><li><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306215241429.png" alt="image-20230306215241429"></li><li>\u6839\u636E\u4E0A\u56FE\uFF0C\u4E2D\u65AD\u53F7\u6309\u987A\u5E8F\u4ECE0~20\u3002</li></ul></li></ul><h3 id="_5-\u95EE\u9898-\u4EE3\u7801\uFF1A" tabindex="-1">5.\u95EE\u9898+\u4EE3\u7801\uFF1A <a class="header-anchor" href="#_5-\u95EE\u9898-\u4EE3\u7801\uFF1A" aria-hidden="true">#</a></h3><ul><li><p>\u5728CT107D\u5355\u7247\u673A\u7EFC\u5408\u8BAD\u7EC3\u5E73\u53F0\u4E0A\uFF0C\u9996\u5148\u5C06J5\u5904\u7684\u8DF3\u5E3D\u63A5\u52302~3\u5F15\u811A\uFF0C\u5373s5\u6309\u952E\u63A5\u5230P32/INT0\uFF0CS4\u6309\u952E\u63A5\u5230P33/INT1\u3002\u5B9A\u4E49\u4E00\u4E2AWorking0\u51FD\u6570\uFF0C\u4F7FL1\u6307\u793A\u706F\u4E0D\u65AD\u95EA\u70C1\u3002\u5C06P32\u5F15\u811A\u5B9A\u4E49\u6210\u5916\u90E8\u4E2D\u65AD\u529F\u80FD\uFF0C\u6309\u952ES5\u6309\u952E\u5C31\u4F1A\u4EA7\u751F\u5916\u90E8\u4E2D\u65AD\u89E6\u53D1\u4FE1\u53F7\uFF0C\u5728\u4E2D\u65AD\u54CD\u5E94\u51FD\u6570\u4E2D\uFF0C\u70B9\u4EAEL8\u6307\u793A\u706F\uFF0C\u5EF6\u65F6\u4E00\u6BB5\u8F83\u957F\u7684\u65F6\u95F4\u540E\u7184\u706D\u3002</p></li><li><div class="language-c"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">STC15F2K60S2.H</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">intrins.h</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Delay500ms</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">//@11.0592MHz</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">unsigned</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">char</span><span style="color:#F07178;"> i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> j</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> k</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">_nop_</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">_nop_</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">	i </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">22</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	j </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	k </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">227</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;font-style:italic;">do</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;font-style:italic;">do</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">			</span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(--</span><span style="color:#F07178;">k</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(--</span><span style="color:#F07178;">j</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(--</span><span style="color:#F07178;">i</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Delay1500ms</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">		</span><span style="color:#676E95;font-style:italic;">//@11.0592MHz</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">unsigned</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">char</span><span style="color:#F07178;"> i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> j</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> k</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">_nop_</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">_nop_</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">	i </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">40</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	j </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	k </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">179</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;font-style:italic;">do</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;font-style:italic;">do</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">			</span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(--</span><span style="color:#F07178;">k</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(--</span><span style="color:#F07178;">j</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(--</span><span style="color:#F07178;">i</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Close_Buzz</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	P2 </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> P2 </span><span style="color:#89DDFF;">&amp;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x1f</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0xa0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	P0 </span><span style="color:#89DDFF;">&amp;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0xbf</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	P2 </span><span style="color:#89DDFF;">&amp;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x1f</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">working</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	P2 </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> P2 </span><span style="color:#89DDFF;">&amp;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x1f</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	P0 </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0xfe</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	P2 </span><span style="color:#89DDFF;">&amp;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x1f</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">Delay500ms</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">	</span></span>
<span class="line"><span style="color:#F07178;">	P2 </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> P2 </span><span style="color:#89DDFF;">&amp;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x1f</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	P0 </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0xff</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	P2 </span><span style="color:#89DDFF;">&amp;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x1f</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">Delay500ms</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;">//\u8FD9\u4E2A\u51FD\u6570\u80FD\u591F\u4F7FL1\u8FD9\u4E2ALED\u706F\u4E00\u76F4\u95EA\u70C1\u3002</span></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Init_INT0</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">)</span><span style="color:#676E95;font-style:italic;">//\u4E2D\u65AD\u521D\u59CB\u5316\u51FD\u6570\uFF0C\u8FD9\u4E2A\u51FD\u6570\u662FINT0\uFF08\u5916\u90E8\u4E2D\u65AD0\uFF09\u8FD9\u4E2A\u4E2D\u65AD\u7684\u521D\u59CB\u5316\u3002</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	EA </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">//EA\u4F4D\u4E8EIE\uFF08Interrupt Enable\u5BC4\u5B58\u5668\u7684\u7B2C7\u4F4D\uFF09\uFF0C1\u8868\u793ACPU\u5F00\u653E\u6240\u6709\u4E2D\u65AD\uFF0C0\u8868\u793ACPU\u62D2\u7EDD\u6240\u6709\u4E2D\u65AD\u8BF7\u6C42\u3002</span></span>
<span class="line"><span style="color:#F07178;">	EX0 </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">//EX0\u4F4D\u4E8EIE\u5BC4\u5B58\u5668\uFF0C\u662FINT0\u4E2D\u65AD\u7684\u4F7F\u80FD\u7AEF\uFF0C1\u8868\u793ACPU\u5F00\u653EINT0\u4E2D\u65AD\uFF0C0\u8868\u793ACPU\u62D2\u7EDDINT0\u4E2D\u65AD\u8BF7\u6C42\u3002</span></span>
<span class="line"><span style="color:#F07178;">	IT0 </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">//IT0\u4F4D\u4E8ETCON\uFF08\u5B9A\u65F6\u5668/\u8BA1\u6570\u5668\u63A7\u5236\u5BC4\u5B58\u5668\uFF09,1\u8868\u793AINT0\u4E2D\u65AD\u7684\u89E6\u53D1\u65B9\u5F0F\u662F\u4E0B\u964D\u6CBF\u89E6\u53D1\uFF0C0\u8868\u793AINT0\u4E2D\u65AD\u7684\u89E6\u53D1\u65B9\u5F0F\u662F\u4E0A\u5347\u6CBF\u6216\u4E0B\u964D\u6CBF\u89E6\u53D1\u3002</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">INT0_Routine</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> interrupt </span><span style="color:#F78C6C;">0</span><span style="color:#676E95;font-style:italic;">//\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\uFF0C\u8FD9\u91CC\u6267\u884C\u4E2D\u65AD\u7684\u4E00\u7CFB\u5217\u64CD\u4F5C\uFF0C\u5373\u4E2D\u65AD\u54CD\u5E94\u3002</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	P2 </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> P2 </span><span style="color:#89DDFF;">&amp;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x1f</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	P0 </span><span style="color:#89DDFF;">&amp;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x7f</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	P2 </span><span style="color:#89DDFF;">&amp;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0x1f</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">Delay1500ms</span><span style="color:#89DDFF;">();</span><span style="color:#676E95;font-style:italic;">//\u8FD9\u4E2A\u4E2D\u65AD\u54CD\u5E94\u662F\u5C06L8\u8FD9\u4E2ALED\u706F\u6253\u5F00\uFF0C\u5E38\u4EAE1500ms.</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">Close_Buzz</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">Init_INT0</span><span style="color:#89DDFF;">();</span><span style="color:#676E95;font-style:italic;">//\u6211\u4EEC\u628A\u4E2D\u65AD\u521D\u59CB\u5316\u51FD\u6570\u653E\u5728main\u4E2D\u7684\u4E00\u5F00\u59CB\u6267\u884C\uFF0C\u5373\u5728\u4E00\u5F00\u59CB\u5C31\u5141\u8BB8INT0\u4E2D\u65AD\u7684\u6267\u884C\u3002</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#82AAFF;">working</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-\u4E2D\u65AD\u7684\u5904\u7406\u8FC7\u7A0B\uFF1A" tabindex="-1">7.\u4E2D\u65AD\u7684\u5904\u7406\u8FC7\u7A0B\uFF1A <a class="header-anchor" href="#_7-\u4E2D\u65AD\u7684\u5904\u7406\u8FC7\u7A0B\uFF1A" aria-hidden="true">#</a></h3></li><li><p><img src="https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/image-20230306220259956.png" alt="image-20230306220259956"></p></li></ul>`,11),t=[o];function e(c,r,F,y,i,D){return n(),a("div",null,t)}var h=s(p,[["render",e]]);export{C as __pageData,h as default};
